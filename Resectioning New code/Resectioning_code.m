matrix_3D = [
   -151.2949   -11.0825   305.5970
     11.0055     0.6453   -22.7716
     10.8754    -0.9293   -22.6187
     10.9020     0.3734   -22.7424
     10.9311     0.6740   -22.8171
     10.8135     0.6027   -22.8858
     10.7740     0.5672   -22.9100
     10.6880     0.0845   -22.7866
     10.9646     2.3279   -23.3198
     10.6883     0.2924   -22.8306
     10.7021     0.3688   -22.8584
     10.7507     0.8409   -22.9668
     10.7507     0.8409   -22.9668
     10.8923     2.1328   -23.2703
     10.8890     2.2206   -23.3278
     10.8524     2.0039   -23.2845
     10.6614     0.8320   -22.9970
     11.9260     6.3526   -25.6860
     10.6483     1.0735   -23.1522
     10.5369     0.1091   -22.9732
]; %noisefree 3d points

matrix_2D = [
     25.6147   338.8417
     44.0775   311.1743
     46.1970   403.3918
     49.1522   327.1137
     49.7834   309.6051
     58.5445   314.1909
     61.5142   316.2076
     62.7857   344.3026
     62.9705   215.4968
     64.1244   332.3965
     64.1475   327.8912
     64.6529   300.3238
     64.6529   300.3238
     65.6646   226.4794
     67.4484   221.9323
     68.2816   233.6933
     70.6802   301.0883
     73.8634    12.8499
     75.7516   288.0290
     76.7349   343.3047
]; % noisy image observations


epsilon = 0.95; % relative termination tolerance.
delta = 15; % upperbound on the error;
maxiter=1000;

addpath 'Resectioning'

Resectioning  = resection(matrix_2D',matrix_3D',epsilon,delta,maxiter);

fprintf('Resection Camera Matrix Estimate \n')
Resectioning/Resectioning(end)